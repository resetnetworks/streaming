2025-07-17T06:08:14.414Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:13:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-17T06:08:35.917Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:13:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-17T06:10:56.553Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:13:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-17T06:26:45.443Z [ERROR]: BadRequestError: Incorrect password
    at loginUser (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/userControllers.js:69:11) 
2025-07-17T06:28:05.705Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:13:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-17T06:28:29.599Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:13:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-17T06:28:32.328Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:13:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-17T06:28:41.023Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:13:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-17T06:28:57.878Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:13:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-17T06:29:06.979Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:13:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-17T06:29:09.197Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:13:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-07T06:42:00.684Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:17:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-07T06:42:01.648Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:17:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-07T06:42:02.393Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:17:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-07T06:42:02.915Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:17:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-07T06:42:03.306Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:17:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-07T06:42:46.407Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:17:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-07T06:43:52.695Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:17:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-07T06:48:09.541Z [WARN]: ðŸ” 404 Not Found - GET /api/subscriptions 
2025-07-07T06:52:29.452Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:17:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-07T09:53:09.038Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:17:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-07T09:53:09.980Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:17:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-07T09:54:33.947Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:17:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-07T09:54:35.206Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:17:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-07T09:56:00.237Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:17:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-07T09:56:01.442Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:17:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-07T10:06:12.783Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:17:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-07T10:06:13.766Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:17:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-07T10:07:15.497Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:17:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-07T10:07:16.376Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:17:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-07T10:07:16.811Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:17:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-07T10:07:17.224Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:17:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-07T10:07:44.550Z [WARN]: Validation failed: {"0":{"message":"Valid email is required"}}
2025-07-08T05:58:09.688Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:17:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-08T05:58:24.868Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:17:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-08T05:59:36.707Z [ERROR]: ReferenceError: user is not defined
    at canStreamSong (file:///Users/resetstudios03/Desktop/streaming/backend/helpers/accessControl.js:12:3)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:16:19) 
2025-07-08T06:01:31.963Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:17:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-08T06:01:34.137Z [ERROR]: UnauthorizedError: You do not have access to stream this song.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:17:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-08T06:06:47.192Z [ERROR]: ValidationError: Subscription validation failed: externalSubscriptionId: Path `externalSubscriptionId` is required., gateway: Path `gateway` is required.
    at Document.invalidate (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/document.js:3343:32)
    at /Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/document.js:3104:17
    at /Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1407:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11) 
2025-07-08T06:12:39.681Z [ERROR]: ValidationError: Subscription validation failed: externalSubscriptionId: Path `externalSubscriptionId` is required., gateway: Path `gateway` is required.
    at Document.invalidate (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/document.js:3343:32)
    at /Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/document.js:3104:17
    at /Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1407:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11) 
2025-07-08T06:18:14.490Z [ERROR]: ValidationError: Subscription validation failed: externalSubscriptionId: Path `externalSubscriptionId` is required., gateway: Path `gateway` is required.
    at Document.invalidate (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/document.js:3343:32)
    at /Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/document.js:3104:17
    at /Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1407:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11) 
2025-07-08T06:24:17.597Z [ERROR]: ValidationError: Subscription validation failed: externalSubscriptionId: Path `externalSubscriptionId` is required., gateway: Path `gateway` is required.
    at Document.invalidate (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/document.js:3343:32)
    at /Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/document.js:3104:17
    at /Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1407:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11) 
2025-07-08T06:28:53.787Z [ERROR]: ValidationError: Subscription validation failed: externalSubscriptionId: Path `externalSubscriptionId` is required., gateway: Path `gateway` is required.
    at Document.invalidate (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/document.js:3343:32)
    at /Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/document.js:3104:17
    at /Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1407:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11) 
2025-07-08T08:24:00.601Z [ERROR]: Error: error:1E08010C:DECODER routines::unsupported
    at Sign.sign (node:internal/crypto/sig:128:29)
    at CloudfrontSignBuilder.signData (/Users/resetstudio02/Documents/streaming/backend/node_modules/@aws-sdk/cloudfront-signer/dist-cjs/index.js:254:17)
    at CloudfrontSignBuilder.signPolicy (/Users/resetstudio02/Documents/streaming/backend/node_modules/@aws-sdk/cloudfront-signer/dist-cjs/index.js:257:38)
    at CloudfrontSignBuilder.createCloudfrontAttribute (/Users/resetstudio02/Documents/streaming/backend/node_modules/@aws-sdk/cloudfront-signer/dist-cjs/index.js:289:28)
    at getSignedUrl (/Users/resetstudio02/Documents/streaming/backend/node_modules/@aws-sdk/cloudfront-signer/dist-cjs/index.js:72:105)
    at getSignedCloudFrontUrl (file:///Users/resetstudio02/Documents/streaming/backend/utils/cloudfront.js:17:10)
    at streamSong (file:///Users/resetstudio02/Documents/streaming/backend/controllers/streamController.js:25:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-08T08:24:14.832Z [ERROR]: Error: error:1E08010C:DECODER routines::unsupported
    at Sign.sign (node:internal/crypto/sig:128:29)
    at CloudfrontSignBuilder.signData (/Users/resetstudio02/Documents/streaming/backend/node_modules/@aws-sdk/cloudfront-signer/dist-cjs/index.js:254:17)
    at CloudfrontSignBuilder.signPolicy (/Users/resetstudio02/Documents/streaming/backend/node_modules/@aws-sdk/cloudfront-signer/dist-cjs/index.js:257:38)
    at CloudfrontSignBuilder.createCloudfrontAttribute (/Users/resetstudio02/Documents/streaming/backend/node_modules/@aws-sdk/cloudfront-signer/dist-cjs/index.js:289:28)
    at getSignedUrl (/Users/resetstudio02/Documents/streaming/backend/node_modules/@aws-sdk/cloudfront-signer/dist-cjs/index.js:72:105)
    at getSignedCloudFrontUrl (file:///Users/resetstudio02/Documents/streaming/backend/utils/cloudfront.js:17:10)
    at streamSong (file:///Users/resetstudio02/Documents/streaming/backend/controllers/streamController.js:25:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-08T09:33:01.740Z [ERROR]: TypeError: Cannot destructure property 'id' of 'req.params' as it is undefined.
    at streamSong (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController.js:13:15)
    at getSongById (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/songController.js:317:35)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-09T06:02:44.992Z [ERROR]: ReferenceError: canStreamSong is not defined
    at streamSong2 (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/streamController2.js:7:19)
    at newFn (/Users/resetstudios03/Desktop/streaming/backend/node_modules/express-async-errors/index.js:16:20)
    at Layer.handle [as handle_request] (/Users/resetstudios03/Desktop/streaming/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/resetstudios03/Desktop/streaming/backend/node_modules/express/lib/router/route.js:149:13)
    at authenticateUser (file:///Users/resetstudios03/Desktop/streaming/backend/middleware/authenticate.js:40:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-09T06:11:58.775Z [WARN]: ðŸ” 404 Not Found - GET /api/stream/6864c5e4de93f6e68234c85c 
2025-07-09T06:12:10.292Z [WARN]: ðŸ” 404 Not Found - GET /api/stream/6864c5e4de93f6e68234c85c 
2025-07-09T06:12:17.300Z [WARN]: ðŸ” 404 Not Found - GET /api/stream/6864c5e4de93f6e68234c85c 
2025-07-09T08:23:24.380Z [WARN]: ðŸ” 404 Not Found - GET /favicon.ico 
2025-07-09T08:25:58.792Z [ERROR]: BadRequestError: Incorrect password
    at loginUser (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/userControllers.js:69:11) 
2025-07-09T10:19:05.575Z [ERROR]: BadRequestError: Artist does not have a Stripe recurring price configured.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:28:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-09T10:19:05.578Z [ERROR]: BadRequestError: Artist does not have a Stripe recurring price configured.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:28:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-09T10:19:20.623Z [ERROR]: BadRequestError: Artist does not have a Stripe recurring price configured.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:28:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-09T10:19:20.625Z [ERROR]: BadRequestError: Artist does not have a Stripe recurring price configured.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:28:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-09T10:24:20.883Z [WARN]: Validation failed: {"0":{"message":"Invalid song ID"}}
2025-07-09T10:24:21.672Z [WARN]: Validation failed: {"0":{"message":"Invalid song ID"}}
2025-07-09T10:24:24.846Z [WARN]: Validation failed: {"0":{"message":"Invalid song ID"}}
2025-07-09T10:24:25.601Z [WARN]: Validation failed: {"0":{"message":"Invalid song ID"}}
2025-07-09T10:24:31.335Z [WARN]: Validation failed: {"0":{"message":"Invalid song ID"}}
2025-07-09T10:24:32.174Z [WARN]: Validation failed: {"0":{"message":"Invalid song ID"}}
2025-07-09T10:24:32.796Z [WARN]: Validation failed: {"0":{"message":"Invalid song ID"}}
2025-07-09T10:24:33.880Z [WARN]: Validation failed: {"0":{"message":"Invalid song ID"}}
2025-07-09T10:28:51.357Z [WARN]: ðŸ” 404 Not Found - GET /api/users/likedsong/undefined 
2025-07-10T05:42:33.699Z [WARN]: ðŸ” 404 Not Found - GET /favicon.ico 
2025-07-10T05:42:42.687Z [ERROR]: MongoServerSelectionError: Socket 'secureConnect' timed out after 30001ms (connectTimeoutMS: 30000)
    at Topology.selectServer (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/sdam/topology.js:321:38)
    at async tryOperation (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/operations/execute_operation.js:145:18)
    at async executeOperation (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/operations/execute_operation.js:75:16)
    at async AggregationCursor._initialize (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/cursor/aggregation_cursor.js:56:26)
    at async AggregationCursor.cursorInit (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:633:27)
    at async AggregationCursor.fetchBatch (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:667:13)
    at async AggregationCursor.next (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:347:17)
    at async Collection.countDocuments (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/collection.js:477:21)
    at async model.Query.exec (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:4604:63)
    at async getRandomArtistWithSongs (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/discoverController.js:6:24) 
2025-07-10T05:43:02.690Z [ERROR]: MongoServerSelectionError: Socket 'secureConnect' timed out after 30001ms (connectTimeoutMS: 30000)
    at Topology.selectServer (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/sdam/topology.js:321:38)
    at async tryOperation (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/operations/execute_operation.js:145:18)
    at async executeOperation (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/operations/execute_operation.js:75:16)
    at async AggregationCursor._initialize (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/cursor/aggregation_cursor.js:56:26)
    at async AggregationCursor.cursorInit (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:633:27)
    at async AggregationCursor.fetchBatch (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:667:13)
    at async AggregationCursor.next (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:347:17)
    at async Collection.countDocuments (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/collection.js:477:21)
    at async model.Query.exec (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:4604:63)
    at async getRandomArtistWithSongs (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/discoverController.js:6:24) 
2025-07-10T05:45:00.724Z [ERROR]: MongoServerSelectionError: Socket 'secureConnect' timed out after 30001ms (connectTimeoutMS: 30000)
    at Topology.selectServer (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/sdam/topology.js:321:38)
    at runNextTicks (node:internal/process/task_queues:65:5)
    at listOnTimeout (node:internal/timers:549:9)
    at process.processTimers (node:internal/timers:523:7)
    at async tryOperation (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/operations/execute_operation.js:145:18)
    at async executeOperation (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/operations/execute_operation.js:75:16)
    at async AggregationCursor._initialize (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/cursor/aggregation_cursor.js:56:26)
    at async AggregationCursor.cursorInit (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:633:27)
    at async AggregationCursor.fetchBatch (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:667:13)
    at async AggregationCursor.next (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:347:17) 
2025-07-10T05:45:20.726Z [ERROR]: MongoServerSelectionError: Socket 'secureConnect' timed out after 30001ms (connectTimeoutMS: 30000)
    at Topology.selectServer (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/sdam/topology.js:321:38)
    at async tryOperation (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/operations/execute_operation.js:145:18)
    at async executeOperation (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/operations/execute_operation.js:75:16)
    at async AggregationCursor._initialize (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/cursor/aggregation_cursor.js:56:26)
    at async AggregationCursor.cursorInit (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:633:27)
    at async AggregationCursor.fetchBatch (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:667:13)
    at async AggregationCursor.next (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:347:17)
    at async Collection.countDocuments (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongodb/lib/collection.js:477:21)
    at async model.Query.exec (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:4604:63)
    at async getRandomArtistWithSongs (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/discoverController.js:6:24) 
2025-07-10T05:55:52.634Z [ERROR]: BadRequestError: Artist does not have a Stripe recurring price configured.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:28:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T05:55:52.639Z [ERROR]: BadRequestError: Artist does not have a Stripe recurring price configured.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:28:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:01:18.880Z [ERROR]: ReferenceError: createArtistStripeSubscriptionPrice is not defined
    at createArtist (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/artistController.js:48:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:01:43.875Z [ERROR]: ReferenceError: createArtistStripeSubscriptionPrice is not defined
    at createArtist (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/artistController.js:48:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:01:50.337Z [ERROR]: ReferenceError: createArtistStripeSubscriptionPrice is not defined
    at createArtist (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/artistController.js:48:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:02:05.999Z [ERROR]: ReferenceError: createArtistStripeSubscriptionPrice is not defined
    at createArtist (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/artistController.js:48:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:07:05.037Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'id')
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:84:37)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:07:05.076Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'id')
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:84:37)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:08:47.641Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'id')
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:84:37)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:08:49.752Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'id')
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:84:37)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:15:50.819Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'id')
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:86:37)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:15:51.247Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'id')
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:86:37)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:16:46.121Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'id')
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:86:37)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:16:48.290Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'id')
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:86:37)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:17:36.302Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'id')
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:85:37)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:17:37.987Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'id')
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:85:37)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:18:25.925Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'id')
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:85:37)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:18:27.701Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'id')
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:85:37)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:19:13.131Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'id')
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:85:37)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:19:15.063Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'id')
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:85:37)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:21:53.134Z [WARN]: ðŸ” 404 Not Found - GET /favicon.ico 
2025-07-10T06:25:17.210Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'id')
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:87:37)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:25:19.040Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'id')
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:87:37)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:27:10.999Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'id')
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:87:37)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:27:12.703Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'id')
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:87:37)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:28:01.268Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'id')
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:89:37)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:28:02.799Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'id')
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:89:37)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:31:21.496Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'id')
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:89:37)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:31:23.843Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'id')
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:89:37)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:33:48.292Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'id')
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:90:37)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:33:49.926Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'id')
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:90:37)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:36:36.358Z [ERROR]: Error: Stripe payment intent could not be created.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:86:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:36:37.909Z [ERROR]: Error: Stripe payment intent could not be created.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:86:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:43:00.905Z [ERROR]: Error: Stripe payment intent could not be created.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:90:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:43:02.470Z [ERROR]: Error: Stripe payment intent could not be created.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:90:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:45:01.976Z [ERROR]: Error: Stripe payment intent could not be created.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:91:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:45:03.921Z [ERROR]: Error: Stripe payment intent could not be created.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:91:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:47:39.991Z [ERROR]: Error: Stripe payment intent could not be created.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:92:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:47:41.522Z [ERROR]: Error: Stripe payment intent could not be created.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:92:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:50:59.863Z [ERROR]: Error: Stripe payment intent could not be created.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:92:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:51:01.961Z [ERROR]: Error: Stripe payment intent could not be created.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:92:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:53:33.563Z [ERROR]: Error: Stripe payment intent could not be created.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:92:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:53:35.919Z [ERROR]: Error: Stripe payment intent could not be created.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:92:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T06:56:04.638Z [ERROR]: Error: Stripe payment intent could not be created.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:92:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T07:47:25.988Z [WARN]: ðŸ” 404 Not Found - POST /api/subscription/setup-intent 
2025-07-10T07:47:25.991Z [WARN]: ðŸ” 404 Not Found - POST /api/subscription/setup-intent 
2025-07-10T07:52:19.734Z [ERROR]: Error: Stripe payment intent could not be created.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:92:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T07:52:21.052Z [ERROR]: Error: Stripe payment intent could not be created.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:92:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T07:55:49.939Z [ERROR]: ReferenceError: price is not defined
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:72:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T07:55:49.958Z [ERROR]: ReferenceError: price is not defined
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:72:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T08:02:20.353Z [ERROR]: ReferenceError: paymentMethodId is not defined
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:76:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T08:02:20.357Z [ERROR]: ReferenceError: paymentMethodId is not defined
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:76:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T08:05:27.601Z [ERROR]: ReferenceError: transactionId is not defined
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:81:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T08:05:27.606Z [ERROR]: ReferenceError: transactionId is not defined
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:81:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T08:08:32.581Z [ERROR]: Error: Metadata values must be strings, but for key `userId` you passed in a value of type `hash`. Invalid value: {:buffer=>"h^o5Ã¡ï¿½ï¿½ï¿½cï¿½ï¿½"}
    at generateV1Error (file:///Users/resetstudios03/Desktop/streaming/backend/node_modules/stripe/esm/Error.js:8:20)
    at res.toJSON.then.StripeAPIError.message (file:///Users/resetstudios03/Desktop/streaming/backend/node_modules/stripe/esm/RequestSender.js:105:31)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T08:08:32.721Z [ERROR]: Error: Metadata values must be strings, but for key `userId` you passed in a value of type `hash`. Invalid value: {:buffer=>"h^o5Ã¡ï¿½ï¿½ï¿½cï¿½ï¿½"}
    at generateV1Error (file:///Users/resetstudios03/Desktop/streaming/backend/node_modules/stripe/esm/Error.js:8:20)
    at res.toJSON.then.StripeAPIError.message (file:///Users/resetstudios03/Desktop/streaming/backend/node_modules/stripe/esm/RequestSender.js:105:31)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T08:10:25.936Z [ERROR]: Error: Missing required param: items.
    at generateV1Error (file:///Users/resetstudios03/Desktop/streaming/backend/node_modules/stripe/esm/Error.js:8:20)
    at res.toJSON.then.StripeAPIError.message (file:///Users/resetstudios03/Desktop/streaming/backend/node_modules/stripe/esm/RequestSender.js:105:31)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T08:10:26.057Z [ERROR]: Error: Missing required param: items.
    at generateV1Error (file:///Users/resetstudios03/Desktop/streaming/backend/node_modules/stripe/esm/Error.js:8:20)
    at res.toJSON.then.StripeAPIError.message (file:///Users/resetstudios03/Desktop/streaming/backend/node_modules/stripe/esm/RequestSender.js:105:31)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T08:14:00.777Z [ERROR]: Error: This customer has no attached payment source or default payment method. Please consider adding a default payment method. For more information, visit https://stripe.com/docs/billing/subscriptions/payment-methods-setting#payment-method-priority.
    at generateV1Error (file:///Users/resetstudios03/Desktop/streaming/backend/node_modules/stripe/esm/Error.js:8:20)
    at res.toJSON.then.StripeAPIError.message (file:///Users/resetstudios03/Desktop/streaming/backend/node_modules/stripe/esm/RequestSender.js:105:31)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T08:14:02.722Z [ERROR]: Error: This customer has no attached payment source or default payment method. Please consider adding a default payment method. For more information, visit https://stripe.com/docs/billing/subscriptions/payment-methods-setting#payment-method-priority.
    at generateV1Error (file:///Users/resetstudios03/Desktop/streaming/backend/node_modules/stripe/esm/Error.js:8:20)
    at res.toJSON.then.StripeAPIError.message (file:///Users/resetstudios03/Desktop/streaming/backend/node_modules/stripe/esm/RequestSender.js:105:31)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T08:24:17.366Z [ERROR]: Error: Stripe payment intent could not be created.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:96:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T08:34:59.837Z [ERROR]: Error: Stripe payment intent could not be created.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:98:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T08:42:01.264Z [ERROR]: Error: Stripe payment intent could not be created.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:107:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T08:45:35.130Z [ERROR]: Error: Stripe payment intent could not be created.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:116:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T09:03:52.086Z [ERROR]: Error: Stripe payment intent could not be created.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:116:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T09:52:51.293Z [ERROR]: Error: Stripe payment intent could not be created.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:116:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T09:56:11.746Z [ERROR]: Error: Stripe payment intent could not be created.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:123:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T10:23:23.924Z [ERROR]: Error: Stripe payment intent could not be created.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:122:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T10:29:39.869Z [ERROR]: Error: Stripe payment intent could not be created.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:124:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T10:32:49.564Z [ERROR]: Error: Stripe payment intent could not be created.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:125:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T10:34:15.953Z [ERROR]: ReferenceError: invoce is not defined
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:121:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T10:35:10.621Z [ERROR]: Error: Stripe payment intent could not be created.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:127:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T10:36:46.145Z [ERROR]: Error: Stripe payment intent could not be created.
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:127:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T10:40:31.507Z [ERROR]: ReferenceError: priceId is not defined
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:96:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T10:49:47.982Z [ERROR]: ReferenceError: priceId is not defined
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:96:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T10:52:41.097Z [ERROR]: ReferenceError: priceID is not defined
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:93:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T10:54:56.502Z [ERROR]: ReferenceError: sole is not defined
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:110:1)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T10:55:58.220Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'status')
    at initiateArtistSubscription (file:///Users/resetstudios03/Desktop/streaming/backend/controllers/subscriptionController.js:112:52)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-10T13:44:53.549Z [WARN]: ðŸ” 404 Not Found - GET /api/subscriber-count/686f585d37b2ec658375ad2a 
2025-07-10T13:51:35.530Z [ERROR]: BadRequestError: Incorrect password
    at loginUser (file:///C:/Users/bilal/Desktop/streaming-master/streaming-master/backend/controllers/userControllers.js:69:11) 
2025-07-10T13:52:43.594Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'status')
    at initiateArtistSubscription (file:///C:/Users/bilal/Desktop/streaming-master/streaming-master/backend/controllers/subscriptionController.js:112:52)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) 
2025-07-10T13:54:44.656Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'status')
    at initiateArtistSubscription (file:///C:/Users/bilal/Desktop/streaming-master/streaming-master/backend/controllers/subscriptionController.js:112:52)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) 
2025-07-10T14:06:02.351Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'status')
    at initiateArtistSubscription (file:///C:/Users/bilal/Desktop/streaming-master/streaming-master/backend/controllers/subscriptionController.js:112:52)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) 
2025-07-10T14:30:42.093Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'status')
    at initiateArtistSubscription (file:///C:/Users/bilal/Desktop/streaming-master/streaming-master/backend/controllers/subscriptionController.js:112:52)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) 
2025-07-10T14:48:57.479Z [WARN]: ðŸ” 404 Not Found - GET /api/subscriptions/artist/686f585d37b2ec658375ad2a 
2025-07-10T14:48:58.056Z [WARN]: ðŸ” 404 Not Found - GET /favicon.ico 
2025-07-10T14:50:42.730Z [WARN]: ðŸ” 404 Not Found - GET /api/subscriptions/artist/686f585d37b2ec658375ad2a 
2025-07-10T17:49:59.085Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'status')
    at initiateArtistSubscription (file:///C:/Users/bilal/Desktop/streaming-master/streaming-master/backend/controllers/subscriptionController.js:112:52)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) 
2025-07-10T18:06:51.867Z [ERROR]: BadRequestError: Incorrect password
    at loginUser (file:///C:/Users/bilal/Desktop/streaming-master/streaming-master/backend/controllers/userControllers.js:69:11) 
2025-07-10T18:08:27.914Z [ERROR]: Error: Stripe payment intent not created.
    at initiateArtistSubscription (file:///C:/Users/bilal/Desktop/streaming-master/streaming-master/backend/controllers/subscriptionController.js:111:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) 
2025-07-10T18:10:31.160Z [ERROR]: Error: Stripe payment intent not created.
    at initiateArtistSubscription (file:///C:/Users/bilal/Desktop/streaming-master/streaming-master/backend/controllers/subscriptionController.js:111:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) 
2025-07-10T18:13:10.611Z [ERROR]: Error: Stripe payment intent not created.
    at initiateArtistSubscription (file:///C:/Users/bilal/Desktop/streaming-master/streaming-master/backend/controllers/subscriptionController.js:107:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) 
2025-07-10T18:17:01.306Z [ERROR]: Error: Stripe payment intent not created.
    at initiateArtistSubscription (file:///C:/Users/bilal/Desktop/streaming-master/streaming-master/backend/controllers/subscriptionController.js:108:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) 
2025-07-10T18:34:30.728Z [ERROR]: ValidationError: Transaction validation failed: itemId: Path `itemId` is required.
    at Document.invalidate (C:\Users\bilal\Desktop\streaming-master\streaming-master\backend\node_modules\mongoose\lib\document.js:3343:32)
    at C:\Users\bilal\Desktop\streaming-master\streaming-master\backend\node_modules\mongoose\lib\document.js:3104:17
    at C:\Users\bilal\Desktop\streaming-master\streaming-master\backend\node_modules\mongoose\lib\schemaType.js:1407:9
    at process.processTicksAndRejections (node:internal/process/task_queues:77:11) 
2025-07-10T18:35:10.836Z [ERROR]: ValidationError: Transaction validation failed: itemId: Path `itemId` is required.
    at Document.invalidate (C:\Users\bilal\Desktop\streaming-master\streaming-master\backend\node_modules\mongoose\lib\document.js:3343:32)
    at C:\Users\bilal\Desktop\streaming-master\streaming-master\backend\node_modules\mongoose\lib\document.js:3104:17
    at C:\Users\bilal\Desktop\streaming-master\streaming-master\backend\node_modules\mongoose\lib\schemaType.js:1407:9
    at process.processTicksAndRejections (node:internal/process/task_queues:77:11) 
2025-07-10T18:42:04.497Z [ERROR]: TypeError: Cannot read properties of undefined (reading 'client_secret')
    at initiateArtistSubscription (file:///C:/Users/bilal/Desktop/streaming-master/streaming-master/backend/controllers/subscriptionController.js:76:33)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) 
2025-07-10T21:05:35.789Z [ERROR]: Error: Received unknown parameter: payment_settings[payment_method]. Did you mean payment_method_types?
    at generateV1Error (file:///C:/Users/bilal/Desktop/streaming-master/streaming-master/backend/node_modules/stripe/esm/Error.js:8:20)
    at res.toJSON.then.StripeAPIError.message (file:///C:/Users/bilal/Desktop/streaming-master/streaming-master/backend/node_modules/stripe/esm/RequestSender.js:105:31)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) 
2025-07-11T05:55:44.498Z [ERROR]: Error: This invoice is already finalized, you can't re-finalize a non-draft invoice.
    at generateV1Error (file:///C:/Users/bilal/Desktop/streaming-master/streaming-master/backend/node_modules/stripe/esm/Error.js:8:20)
    at res.toJSON.then.StripeAPIError.message (file:///C:/Users/bilal/Desktop/streaming-master/streaming-master/backend/node_modules/stripe/esm/RequestSender.js:105:31)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) 
2025-07-11T05:56:18.186Z [ERROR]: Error: This invoice is already finalized, you can't re-finalize a non-draft invoice.
    at generateV1Error (file:///C:/Users/bilal/Desktop/streaming-master/streaming-master/backend/node_modules/stripe/esm/Error.js:8:20)
    at res.toJSON.then.StripeAPIError.message (file:///C:/Users/bilal/Desktop/streaming-master/streaming-master/backend/node_modules/stripe/esm/RequestSender.js:105:31)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) 
2025-07-11T05:57:58.618Z [ERROR]: Error: This invoice is already finalized, you can't re-finalize a non-draft invoice.
    at generateV1Error (file:///C:/Users/bilal/Desktop/streaming-master/streaming-master/backend/node_modules/stripe/esm/Error.js:8:20)
    at res.toJSON.then.StripeAPIError.message (file:///C:/Users/bilal/Desktop/streaming-master/streaming-master/backend/node_modules/stripe/esm/RequestSender.js:105:31)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) 
2025-07-11T06:03:13.347Z [ERROR]: Error: As per Indian regulations, export transactions require a customer name and address. More info here: https://stripe.com/docs/india-exports
    at generateV1Error (file:///C:/Users/bilal/Desktop/streaming-master/streaming-master/backend/node_modules/stripe/esm/Error.js:8:20)
    at res.toJSON.then.StripeAPIError.message (file:///C:/Users/bilal/Desktop/streaming-master/streaming-master/backend/node_modules/stripe/esm/RequestSender.js:105:31)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) 
2025-07-11T06:09:39.154Z [ERROR]: Error: As per Indian regulations, export transactions require a customer name and address. More info here: https://stripe.com/docs/india-exports
    at generateV1Error (file:///C:/Users/bilal/Desktop/streaming-master/streaming-master/backend/node_modules/stripe/esm/Error.js:8:20)
    at res.toJSON.then.StripeAPIError.message (file:///C:/Users/bilal/Desktop/streaming-master/streaming-master/backend/node_modules/stripe/esm/RequestSender.js:105:31)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) 
2025-07-11T06:12:26.407Z [ERROR]: Authentication middleware error: read ECONNRESET {"errno":-4077,"code":"ECONNRESET","syscall":"read","stack":"Error: read ECONNRESET\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:218:20)"}
2025-07-11T06:12:26.419Z [ERROR]: Authentication middleware error: read ECONNRESET {"errno":-4077,"code":"ECONNRESET","syscall":"read","stack":"Error: read ECONNRESET\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:218:20)"}
2025-07-11T06:12:26.474Z [ERROR]: Authentication middleware error: read ECONNRESET {"errno":-4077,"code":"ECONNRESET","syscall":"read","stack":"Error: read ECONNRESET\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:218:20)"}
2025-07-11T06:12:26.480Z [ERROR]: Authentication middleware error: read ECONNRESET {"errno":-4077,"code":"ECONNRESET","syscall":"read","stack":"Error: read ECONNRESET\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:218:20)"}
2025-07-11T06:12:36.169Z [ERROR]: Authentication middleware error: read ECONNRESET {"errno":-4077,"code":"ECONNRESET","syscall":"read","stack":"Error: read ECONNRESET\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:218:20)"}
2025-07-11T06:12:36.291Z [ERROR]: Authentication middleware error: read ECONNRESET {"errno":-4077,"code":"ECONNRESET","syscall":"read","stack":"Error: read ECONNRESET\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:218:20)"}
2025-07-11T06:14:29.197Z [ERROR]: Error: As per Indian regulations, export transactions require a customer name and address. More info here: https://stripe.com/docs/india-exports
    at generateV1Error (file:///C:/Users/bilal/Desktop/streaming-master/streaming-master/backend/node_modules/stripe/esm/Error.js:8:20)
    at res.toJSON.then.StripeAPIError.message (file:///C:/Users/bilal/Desktop/streaming-master/streaming-master/backend/node_modules/stripe/esm/RequestSender.js:105:31)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) 
2025-07-11T06:34:09.916Z [WARN]: ðŸ” 404 Not Found - GET /api/subscriptions/artist/686f585d37b2ec658375ad2a 
2025-07-11T06:38:24.059Z [ERROR]: Authentication middleware error: read ECONNRESET {"errno":-4077,"code":"ECONNRESET","syscall":"read","stack":"Error: read ECONNRESET\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:218:20)"}
2025-07-11T06:38:24.083Z [ERROR]: Authentication middleware error: read ECONNRESET {"errno":-4077,"code":"ECONNRESET","syscall":"read","stack":"Error: read ECONNRESET\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:218:20)"}
2025-07-11T07:48:54.808Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudio02/Documents/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T07:48:54.843Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudio02/Documents/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T07:48:58.777Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudio02/Documents/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T07:49:57.499Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudio02/Documents/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T07:50:31.025Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudio02/Documents/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T07:51:09.916Z [ERROR]: Error: You passed an empty string for 'items[0][price]'. We assume empty values are an attempt to unset a parameter; however 'items[0][price]' cannot be unset. You should remove 'items[0][price]' from your request or supply a non-empty value.
    at generateV1Error (file:///Users/resetstudio02/Documents/streaming/backend/node_modules/stripe/esm/Error.js:8:20)
    at res.toJSON.then.StripeAPIError.message (file:///Users/resetstudio02/Documents/streaming/backend/node_modules/stripe/esm/RequestSender.js:105:31)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) 
2025-07-11T07:51:49.298Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudio02/Documents/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T07:51:49.336Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudio02/Documents/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T07:51:52.104Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudio02/Documents/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T07:51:52.140Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudio02/Documents/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T07:59:27.766Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudio02/Documents/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T08:08:28.354Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudio02/Documents/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T08:11:24.388Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudio02/Documents/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T08:36:28.003Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudio02/Documents/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T08:36:28.035Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudio02/Documents/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T08:36:31.023Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudio02/Documents/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T08:40:35.661Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudio02/Documents/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T08:40:38.037Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudio02/Documents/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T08:40:39.514Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudio02/Documents/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T08:41:08.427Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudio02/Documents/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T08:41:21.566Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudio02/Documents/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T08:42:28.685Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudio02/Documents/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T08:47:09.942Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudio02/Documents/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T08:49:02.745Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudio02/Documents/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T08:51:17.796Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudio02/Documents/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudio02/Documents/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T09:24:32.673Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudios03/Desktop/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T09:26:06.349Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudios03/Desktop/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T09:26:08.819Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudios03/Desktop/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T09:26:14.997Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudios03/Desktop/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T09:26:15.029Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudios03/Desktop/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T10:05:08.275Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudios03/Desktop/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T10:05:09.915Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudios03/Desktop/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T10:05:09.952Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudios03/Desktop/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T10:05:11.241Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudios03/Desktop/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T10:05:11.280Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudios03/Desktop/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T10:10:05.371Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudios03/Desktop/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T11:00:06.653Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudios03/Desktop/streaming/backend/helpers/accessControl.js:10:16) 
2025-07-11T11:00:07.645Z [ERROR]: CastError: Cast to ObjectId failed for value "undefined" (type string) at path "_id" for model "Song"
    at SchemaObjectId.cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1255:12)
    at SchemaType.castForQuery (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/schemaType.js:1673:17)
    at cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/Users/resetstudios03/Desktop/streaming/backend/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async canStreamSong (file:///Users/resetstudios03/Desktop/streaming/backend/helpers/accessControl.js:10:16) 
